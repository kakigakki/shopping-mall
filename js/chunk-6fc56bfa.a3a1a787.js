(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fc56bfa"],{"0323":function(t,e,n){"use strict";var a=n("d577"),s=n.n(a);s.a},"08a8":function(t,e,n){},"0986":function(t,e,n){"use strict";var a=n("581c"),s=n.n(a);s.a},1148:function(t,e,n){"use strict";var a=n("a691"),s=n("1d80");t.exports="".repeat||function(t){var e=String(s(this)),n="",o=a(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},"1ebd":function(t,e,n){"use strict";var a=n("f055"),s=n.n(a);s.a},2103:function(t,e,n){"use strict";var a=n("a70f"),s=n.n(a);s.a},"408a":function(t,e,n){var a=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},"4f24":function(t,e,n){},"581c":function(t,e,n){},"7be8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("detailNav",{ref:"nav",staticClass:"nav",on:{jumpTo:t.jumpTo}}),n("scroll",{ref:"scroll",staticClass:"wrapper",attrs:{"probe-type":3},on:{scroll:t.scrollEvent}},[n("div",{staticClass:"content"},[n("detailSwiper",{attrs:{imgs:t.images}}),n("detailBaseInfo",{attrs:{"base-info":t.baseInfo}}),n("detailShopInfo",{attrs:{"shop-info":t.shopInfo}}),n("detailDetailInfo",{attrs:{"detail-info":t.detailInfo},on:{detailImgLoad:t.detailImgLoad}}),n("detailRuleInfo",{ref:"params",attrs:{params:t.ruleInfo}}),n("detailCommentInfo",{ref:"comment",attrs:{"comment-info":t.commentInfo}}),n("showGoods",{ref:"recommend",attrs:{goods:t.recommend}})],1),n("backArrow",{directives:[{name:"show",rawName:"v-show",value:t.showBackArrow,expression:"showBackArrow"}],nativeOn:{click:function(e){return t.backToTop(e)}}})],1),n("detailBottomBar",{attrs:{"cart-info":t.detailCartInfo}})],1)},s=[],o=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("navbar",{attrs:{showFront:"",color:"white"}},[[n("div",{staticClass:"tabBtn"},t._l(t.navGenre,(function(e,a){return n("a",{key:a,class:{active:a==t.currentIndex},attrs:{href:"#"},on:{click:function(e){return t.whereAmI(a)}}},[t._v(t._s(e))])})),0)]],2)}),i=[],r=n("1f8a"),c={name:"detailNav",components:{navbar:r["a"]},data:function(){return{navGenre:["商品","参数","评论","推荐"],currentIndex:0}},methods:{whereAmI:function(t){this.currentIndex=t,this.$emit("jumpTo",t)}}},l=c,f=(n("1ebd"),n("2877")),u=Object(f["a"])(l,o,i,!1,null,"16a59345",null),d=u.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.imgs,(function(t){return n("swiper-slide",{key:t},[n("img",{attrs:{src:t,alt:""}})])})),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},p=[],h=n("7212"),v=(n("a7a3"),{name:"detailSwiper",title:"Pagination / Dynamic bullets",components:{Swiper:h["Swiper"],SwiperSlide:h["SwiperSlide"]},data:function(){return{swiperOption:{pagination:{el:".swiper-pagination",dynamicBullets:!0},autoplay:{delay:1e3}}}},props:{imgs:{type:Array}}}),_=v,I=(n("a79e"),Object(f["a"])(_,m,p,!1,null,"0d61c471",null)),b=I.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticClass:"title"},[t._v(" "+t._s(t.baseInfo.title)+" ")]),n("div",{staticClass:"price"},[n("span",[t._v("¥"+t._s(t.baseInfo.lowPrice))]),n("span",[t._v("¥"+t._s(t.baseInfo.highPrice))]),n("span",{style:{backgroundColor:t.baseInfo.discountColor}},[t._v(t._s(t.baseInfo.discountText))])]),n("div",{staticClass:"saleInfo"},[n("span",[t._v(t._s(t.baseInfo.sold))]),n("span",[t._v(t._s(t.baseInfo.collect))]),n("span",[t._v(t._s(t.baseInfo.express))])]),n("div",{staticClass:"services"},t._l(t.baseInfo.services,(function(e,a){return n("div",{key:a,staticClass:"serviceItem"},[n("img",{attrs:{src:e.icon,alt:""}}),n("span",[t._v(t._s(e.name))])])})),0)])},w=[],C={name:"detailBaseInfo",props:{baseInfo:{type:Object,default:function(){return{}}}}},y=C,x=(n("bd17"),Object(f["a"])(y,g,w,!1,null,"4cdd4e16",null)),T=x.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"shop"},[n("img",{attrs:{src:t.shopInfo.shopLogo,alt:""}}),n("span",[t._v(t._s(t.shopInfo.name))])]),n("div",{staticClass:"info"},[n("table",{staticClass:"mainInfo"},[n("tbody",[n("tr",[n("td",[t._v(t._s(t.sold))]),n("td",[t._v(t._s(t.shopInfo.cGoods))])]),t._m(0)])]),n("table",{staticClass:"review"},[n("tbody",t._l(t.shopInfo.score,(function(e,a){return n("tr",{key:a},[n("td",[t._v(t._s(e.name))]),e.isBetter?n("td",{staticClass:"isBetter"},[n("span",[t._v(t._s(e.score))])]):n("td",{staticClass:"isLower"},[n("span",[t._v(t._s(e.score))])])])})),0)])]),t._m(1)])},k=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[t._v("总销量")]),n("td",[n("a",{attrs:{href:"http://m.meilishuo.com/shop/index/1172ua9c"}},[t._v("全部宝贝")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"enterShop"},[n("a",{attrs:{href:"http://m.meilishuo.com/shop/index/1172ua9c"}},[t._v("进店逛逛")])])}],E=(n("b680"),{name:"detailShopInfo",props:{shopInfo:{type:Object,default:function(){return{}}}},data:function(){return{isBetter:!0}},computed:{sold:function(){return this.shopInfo.cSells>=1e4?(this.shopInfo.cSells/1e4).toFixed(1)+"万":this.shopInfo.cSells}}}),j=E,O=(n("0986"),Object(f["a"])(j,$,k,!1,null,"a583d5ac",null)),S=O.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v(t._s(t.detailInfo.desc))]),t._l(t.detailInfo.imgs,(function(e,a){return n("div",{key:a,staticClass:"img"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}],attrs:{alt:""},on:{load:t.detailImgLoad}})])}))],2)},Z=[],A={name:"detailDetailInfo",props:{detailInfo:{type:Object}},methods:{detailImgLoad:function(){this.$emit("detailImgLoad")}}},N=A,P=(n("0323"),Object(f["a"])(N,B,Z,!1,null,"f775f1d0",null)),D=P.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"desc"},[n("p",[t._v(t._s(t.params.rule.key))])]),n("div",{staticClass:"rule"},t._l(t.params.rule.tables,(function(e,a){return n("table",{key:a},t._l(e,(function(e,a){return n("tr",{key:a},t._l(e,(function(e,a){return n("td",{key:a},[t._v(" "+t._s(e)+" ")])})),0)})),0)})),0),n("div",{staticClass:"desc2"},[n("p",[t._v(" "+t._s(t.params.info.key)+" ")])]),n("div",{staticClass:"rule info"},[n("table",t._l(t.params.info.set,(function(e,a){return n("tr",{key:a},t._l(e,(function(e,a){return n("td",{key:a},[t._v(" "+t._s(e)+" ")])})),0)})),0)])])},L=[],M={name:"detailRuleInfo",props:{params:{type:Object}},created:function(){console.log(this.params.rule.key)}},R=M,G=(n("2103"),Object(f["a"])(R,F,L,!1,null,"5f46c4db",null)),z=G.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detailComment"},[n("p",{staticClass:"title"},[t._v("用户评价")]),n("div",{staticClass:"userInfo"},[n("img",{attrs:{src:t.commentInfo.user.avatar,alt:""}}),n("span",[t._v(t._s(t.commentInfo.user.uname))])]),n("p",{staticClass:"comment"},[t._v(" "+t._s(t.commentInfo.content)+" ")]),n("div",{staticClass:"goodInfo"},[n("span",[t._v(t._s(t.getCreatedDate))]),n("span",[t._v(t._s(t.commentInfo.style))])]),n("div",{staticClass:"imgs"},t._l(t.commentInfo.images,(function(t){return n("div",{key:t},[n("img",{attrs:{src:t,alt:""}})])})),0),t._m(0)])},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"showMore"},[n("span",[n("a",{attrs:{href:"#"}},[t._v("查看更多")])])])}],H=(n("99af"),{name:"detailCommentInfo",props:{commentInfo:{type:Object,default:function(){return{}}}},computed:{getCreatedDate:function(){var t=new Date(1e3*this.commentInfo.created);return"".concat(t.getFullYear(),"-").concat(t.getMonth(),"-").concat(t.getDate()," ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())}}}),U=H,V=(n("e1b6"),Object(f["a"])(U,J,Q,!1,null,"289ad5c0",null)),W=V.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bar"},[t._m(0),t._m(1),t._m(2),n("div",{staticClass:"addToCart",on:{click:t.addCart}},[n("span",[t._v("加入购物车")])]),t._m(3)])},Y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"QA"},[n("i",{staticClass:"icon QA"}),n("p",[t._v("客服")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shop"},[n("i",{staticClass:"icon shop"}),n("p",[t._v("店铺")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collect"},[n("i",{staticClass:"icon collect"}),n("p",[t._v("收藏")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"buy"},[n("span",[t._v("购买")])])}],q={name:"detailBottomBar",props:{cartInfo:{type:Object,default:function(){return{}}}},data:function(){return{toastText:"",showToast:!0}},methods:{addCart:function(){var t=this;this.$store.dispatch("addCart",this.cartInfo).then((function(e){t.$toast.showToast(e,1e3)}))}}},K=q,tt=(n("f316"),Object(f["a"])(K,X,Y,!1,null,"9d5e1b2a",null)),et=tt.exports,nt=n("bfb8"),at=n("c143"),st=n("6f54");function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var it=n("b12c");function rt(t){return Object(it["a"])({methods:"get",url:"/detail",params:{iid:t}})}var ct=function t(e,n,a,s,o,i,r,c,l){ot(this,t),Object.assign(this,{title:e,highPrice:n,lowPrice:a,discountText:s,discountColor:o,sold:i,collect:r,express:c,services:l})};function lt(){return Object(it["a"])({method:"get",url:"/recommend"})}var ft=n("470c"),ut=n("d072"),dt={name:"detail",mixins:[ft["b"],ft["a"]],components:{detailNav:d,detailSwiper:b,detailBaseInfo:T,detailShopInfo:S,detailDetailInfo:D,detailRuleInfo:z,detailCommentInfo:W,detailBottomBar:et,showGoods:nt["a"],backArrow:at["a"],scroll:st["a"]},data:function(){return{images:[],baseInfo:{},shopInfo:{},detailInfo:{desc:"",imgs:[]},ruleInfo:{info:{},rule:{}},commentInfo:{user:{}},recommend:[],eachZoneTop:null,debounceEachZoneTop:null,detailCartInfo:{}}},created:function(){var t=this;rt(this.$route.params.id).then((function(e){console.log(e);var n=e.result,a=e.result.itemInfo;t.images=a.topImages,console.log(t.images),t.baseInfo=new ct(a.title,a.highPrice,a.highNowPrice,a.discountDesc,a.discountBgColor,n.columns[0],n.columns[1],n.columns[2],n.shopInfo.services),t.shopInfo=n.shopInfo,t.detailInfo.desc=n.detailInfo.desc,t.detailInfo.imgs=n.detailInfo.detailImage[0].list,Object.assign(t.ruleInfo,{info:n.itemParams.info,rule:n.itemParams.rule}),n.rate.cRate&&(t.commentInfo=n.rate.list[0]),t.$set(t.detailCartInfo,"checked",!0),t.detailCartInfo.id=e.iid,t.detailCartInfo.img=a.topImages[0],t.detailCartInfo.title=a.title,t.detailCartInfo.desc=n.detailInfo.desc,t.detailCartInfo.price=a.highNowPrice,t.detailCartInfo.cartCount=1})),lt().then((function(e){t.recommend=e.data.list})),this.debounceEachZoneTop=Object(ut["a"])((function(){t.eachZoneTop=[],t.eachZoneTop.push(0),t.eachZoneTop.push(t.$refs.params.$el.offsetTop-44),t.eachZoneTop.push(t.$refs.comment.$el.offsetTop-44),t.eachZoneTop.push(t.$refs.recommend.$el.offsetTop-44),t.eachZoneTop.push(Number.MAX_VALUE)}),10)},methods:{jumpTo:function(t){this.$refs.scroll.scrollTo(0,-this.eachZoneTop[t],1e3)},detailImgLoad:function(){this.refresh(),this.debounceEachZoneTop()},scrollEvent:function(t){for(var e=0;e<this.eachZoneTop.length;e++)this.$refs.nav.currentIndex!==e&&-t.y>=this.eachZoneTop[e]&&-t.y<this.eachZoneTop[e+1]&&(this.$refs.nav.currentIndex=e);this.showBackArrow=-t.y>1e3}}},mt=dt,pt=(n("9dba"),Object(f["a"])(mt,a,s,!1,null,"fb2038ea",null));e["default"]=pt.exports},"7c1e":function(t,e,n){},"99af":function(t,e,n){"use strict";var a=n("23e7"),s=n("d039"),o=n("e8b5"),i=n("861d"),r=n("7b0b"),c=n("50c4"),l=n("8418"),f=n("65f0"),u=n("1dde"),d=n("b622"),m=n("2d00"),p=d("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",_=m>=51||!s((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),I=u("concat"),b=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},g=!_||!I;a({target:"Array",proto:!0,forced:g},{concat:function(t){var e,n,a,s,o,i=r(this),u=f(i,0),d=0;for(e=-1,a=arguments.length;e<a;e++)if(o=-1===e?i:arguments[e],b(o)){if(s=c(o.length),d+s>h)throw TypeError(v);for(n=0;n<s;n++,d++)n in o&&l(u,d,o[n])}else{if(d>=h)throw TypeError(v);l(u,d++,o)}return u.length=d,u}})},"9dba":function(t,e,n){"use strict";var a=n("b758"),s=n.n(a);s.a},a70f:function(t,e,n){},a79e:function(t,e,n){"use strict";var a=n("08a8"),s=n.n(a);s.a},b680:function(t,e,n){"use strict";var a=n("23e7"),s=n("a691"),o=n("408a"),i=n("1148"),r=n("d039"),c=1..toFixed,l=Math.floor,f=function(t,e,n){return 0===e?n:e%2===1?f(t,e-1,n*t):f(t*t,e/2,n)},u=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},d=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){c.call({})}));a({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,n,a,r,c=o(this),d=s(t),m=[0,0,0,0,0,0],p="",h="0",v=function(t,e){var n=-1,a=e;while(++n<6)a+=t*m[n],m[n]=a%1e7,a=l(a/1e7)},_=function(t){var e=6,n=0;while(--e>=0)n+=m[e],m[e]=l(n/t),n=n%t*1e7},I=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==m[t]){var n=String(m[t]);e=""===e?n:e+i.call("0",7-n.length)+n}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(e=u(c*f(2,69,1))-69,n=e<0?c*f(2,-e,1):c/f(2,e,1),n*=4503599627370496,e=52-e,e>0){v(0,n),a=d;while(a>=7)v(1e7,0),a-=7;v(f(10,a,1),0),a=e-1;while(a>=23)_(1<<23),a-=23;_(1<<a),v(1,1),_(2),h=I()}else v(0,n),v(1<<-e,0),h=I()+i.call("0",d);return d>0?(r=h.length,h=p+(r<=d?"0."+i.call("0",d-r)+h:h.slice(0,r-d)+"."+h.slice(r-d))):h=p+h,h}})},b758:function(t,e,n){},bc39:function(t,e,n){},bd17:function(t,e,n){"use strict";var a=n("7c1e"),s=n.n(a);s.a},d577:function(t,e,n){},e1b6:function(t,e,n){"use strict";var a=n("bc39"),s=n.n(a);s.a},f055:function(t,e,n){},f316:function(t,e,n){"use strict";var a=n("4f24"),s=n.n(a);s.a}}]);
//# sourceMappingURL=chunk-6fc56bfa.a3a1a787.js.map