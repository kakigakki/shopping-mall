(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a37a2c1c"],{"2ae6":function(t,e,s){"use strict";var o=s("5b7c"),a=s.n(o);a.a},"41f4":function(t,e,s){},"51ef":function(t,e,s){},"53a4":function(t,e,s){"use strict";var o=s("41f4"),a=s.n(o);a.a},"5b5d":function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab"},[t._t("default",t._l(t.genre,(function(e,o){return s("div",{key:o,staticClass:"item",class:{active:o===t.currentIndex},on:{click:function(e){return t.click(o)}}},[s("span",[t._v(t._s(e))])])})))],2)},a=[],r={name:"TabController",props:{genre:{type:Array}},data:function(){return{currentIndex:0}},methods:{click:function(t){this.currentIndex=t,this.$emit("chooseGenre",t)}}},c=r,n=(s("ee0e"),s("2877")),i=Object(n["a"])(c,o,a,!1,null,"396c7f0e",null);e["a"]=i.exports},"5b7c":function(t,e,s){},b3e5:function(t,e,s){"use strict";var o=s("51ef"),a=s.n(o);a.a},bb51:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"category"},[s("categoryNav",{staticClass:"nav"}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.selectedCatagory.isShow,expression:"selectedCatagory.isShow"}],staticClass:"sticky",class:{isBottomSticky:t.selectedCatagory.isBottom,isTopSticky:t.selectedCatagory.isTop}},[t._v(" "+t._s(t.selectedCatagory.title)+" ")]),s("div",{staticClass:"grid"},[s("scroll",{ref:"wrap1",staticClass:"wrapper",attrs:{"probe-type":2,bounce:!1},on:{scroll:t.scrollLeftBar}},[s("div",{staticClass:"content"},[s("categoryLeftBar",{ref:"leftBar",staticClass:"categoryBar",attrs:{list:t.categoryList},on:{emitMaitkey:t.choose}})],1)]),s("scroll",{ref:"scroll",staticClass:"wrapper",attrs:{"probe-type":2},on:{scroll:t.scrollLeftBar2}},[s("div",{staticClass:"content"},[s("categoryRightZone",{attrs:{list:t.categoryGoods,"more-goods":t.detailGoods}})],1),s("backArrow",{directives:[{name:"show",rawName:"v-show",value:t.showBackArrow,expression:"showBackArrow"}],nativeOn:{click:function(e){return t.backToTop(e)}}})],1)],1)],1)},a=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("navbar",[[s("p",[t._v("分类导航")])]],2)},c=[],n=s("1f8a"),i={name:"categoryNav",components:{navbar:n["a"]}},l=i,d=s("2877"),u=Object(d["a"])(l,r,c,!1,null,"36769d42",null),h=u.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bar"},t._l(t.list,(function(e,o){return s("div",{key:o,staticClass:"item",class:{isActive:t.CheckedIndex===o},on:{click:function(s){return t.choose(e.maitKey,o,e.title,e.miniWallkey)}}},[t._v(" "+t._s(e.title)+" ")])})),0)},g=[],y={name:"leftBar",props:{list:{type:Array}},methods:{choose:function(t,e,s,o){this.CheckedIndex=e,this.$emit("emitMaitkey",t,e,s,o)}},data:function(){return{CheckedIndex:0}}},p=y,m=(s("2ae6"),Object(d["a"])(p,f,g,!1,null,"2f48c6da",null)),v=m.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"zone"},t._l(t.list,(function(e,o){return s("div",{key:o,staticClass:"item"},[s("img",{attrs:{src:e.image,alt:""},on:{load:t.imgLoad}}),s("p",[t._v(t._s(e.title))])])})),0),t.list.length?s("tabController",{staticClass:"tab",attrs:{genre:["流行","新款","精选"]},on:{chooseGenre:t.choose}}):t._e(),s("showGoods",{attrs:{goods:t.moreGoods[t.genre]}})],1)},C=[],w=s("5b5d"),k=s("bfb8"),_={name:"rightZone",props:{list:{type:Array,default:function(){return[]}},moreGoods:{type:Object}},data:function(){return{genre:"pop"}},components:{tabController:w["a"],showGoods:k["a"]},methods:{imgLoad:function(){this.$bus.$emit("imgLoad")},choose:function(t){switch(console.log(t),t){case 0:this.genre="pop";break;case 1:this.genre="new";break;case 3:this.genre="sell";break;default:break}}}},x=_,B=(s("53a4"),Object(d["a"])(x,b,C,!1,null,"6fb0e256",null)),G=B.exports,$=s("c143"),L=s("6f54"),A=s("470c"),I=s("b12c");function O(){return Object(I["a"])({methods:"get",url:"/category"})}function j(t){return Object(I["a"])({url:"/subcategory",methods:"get",params:{maitKey:t}})}function S(t,e){return Object(I["a"])({url:"/subcategory/detail",methods:"get",params:{miniWallkey:t,type:e}})}var T={name:"Category",components:{categoryNav:h,categoryLeftBar:v,categoryRightZone:G,backArrow:$["a"],scroll:L["a"]},mixins:[A["b"],A["a"]],data:function(){return{category:{},categoryGoods:[],selectedCatagory:{checkedIndex:0,title:"正在流行",isShow:!1,isBottom:!1,isTop:!1},detailGoods:{pop:[],new:[],sell:[]}}},computed:{categoryList:function(){return this.category.list}},created:function(){var t=this;O().then((function(e){t.category=e.data.category})),j("3627").then((function(e){t.categoryGoods=e.data.list})),this.getMoreGoods("10062603")},methods:{choose:function(t,e,s,o){var a=this;this.selectedCatagory.isShow=!1,this.selectedCatagory.checkedIndex=e,this.selectedCatagory.title=s,j(t).then((function(t){a.categoryGoods=t.data.list})),this.getMoreGoods(o),this.$refs.scroll.scrollTo(0,0,300),this.showBackArrow=!1},scrollLeftBar:function(t){-t.y>=50*this.selectedCatagory.checkedIndex?(this.selectedCatagory.isTop=!0,this.selectedCatagory.isShow=!0):-t.y<=50*(this.selectedCatagory.checkedIndex+1)-this.$refs.wrap1.$el.offsetHeight?(this.selectedCatagory.isBottom=!0,this.selectedCatagory.isShow=!0):(this.selectedCatagory.isBottom=!1,this.selectedCatagory.isShow=!1,this.selectedCatagory.isTop=!1)},scrollLeftBar2:function(t){this.showBackArrow=-t.y>1e3},getMoreGoods:function(t){var e=this;S(t,"pop").then((function(t){return e.detailGoods.pop=t})),S(t,"new").then((function(t){return e.detailGoods.new=t})),S(t,"sell").then((function(t){return e.detailGoods.sell=t}))}}},E=T,M=(s("b3e5"),Object(d["a"])(E,o,a,!1,null,"3cdff522",null));e["default"]=M.exports},cc14:function(t,e,s){},ee0e:function(t,e,s){"use strict";var o=s("cc14"),a=s.n(o);a.a}}]);
//# sourceMappingURL=chunk-a37a2c1c.0193c69a.js.map